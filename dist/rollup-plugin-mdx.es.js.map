{"version":3,"file":"rollup-plugin-mdx.es.js","sources":["../src/index.js"],"sourcesContent":["import { createFilter } from 'rollup-pluginutils';\nimport mdx from '@mdx-js/mdx';\n\nconst ext = /\\.md$|\\.mdx$/;\n\nconst DEFAULT_RENDERER = `\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\n`;\n\n\nexport default function md(options = {}) {\n  const filter = createFilter(options.include, options.exclude);\n  const { renderer = DEFAULT_RENDERER } = options;\n\n  return {\n    name: 'mdx',\n\n    transform(content, id) {\n      if (!ext.test(id) || !filter(id)) {\n        return null;\n      }\n\n      return mdx(content, options).then((result) => {\n        const code = `${renderer}\\n${result}`;\n//         const code = `\n// import React from 'react'\n// import { mdx } from '@mdx-js/react'\n// /* @jsx mdx */\n// const makeShortcode = name => function MDXDefaultShortcode(props) {\n//     console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n//   return <div {...props}/>\n// };\n// const layoutProps = {\n  \n  \n  \n// };\n// const MDXLayout = \"wrapper\"\n// export default function MDXContent({\n//     components,\n//   ...props\n// }) {\n//     return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n//     <h1>{\\`Test Title\\`}</h1>\n//     <p>{\\`Test document with \\`}<strong parentName=\\\"p\\\">{\\`bold\\`}</strong>{\\` and \\`}<em parentName=\"p\">{\\`italics\\`}</em>{\\` text.\\`}</p>\n//     </MDXLayout>;\n// }\n// ;\n// MDXContent.isMDXComponent = true;\n//         `;\n\n        // console.log(JSON.stringify(code, null, 2));\n\n        return {\n          code,\n          map: { mappings: '' }\n        };\n      });\n    }\n  };\n}\n"],"names":["ext","DEFAULT_RENDERER","md","options","filter","createFilter","include","exclude","renderer","name","transform","content","id","test","mdx","then","result","code","map","mappings"],"mappings":";;;AAGA,MAAMA,GAAG,GAAG,cAAZ;AAEA,MAAMC,gBAAgB,GAAI;;;CAA1B;AAMA,AAAe,SAASC,EAAT,CAAYC,OAAO,GAAG,EAAtB,EAA0B;QACjCC,MAAM,GAAGC,YAAY,CAACF,OAAO,CAACG,OAAT,EAAkBH,OAAO,CAACI,OAA1B,CAA3B;QACM;IAAEC,QAAQ,GAAGP;MAAqBE,OAAxC;SAEO;IACLM,IAAI,EAAE,KADD;;IAGLC,SAAS,CAACC,OAAD,EAAUC,EAAV,EAAc;UACjB,CAACZ,GAAG,CAACa,IAAJ,CAASD,EAAT,CAAD,IAAiB,CAACR,MAAM,CAACQ,EAAD,CAA5B,EAAkC;eACzB,IAAP;;;aAGKE,GAAG,CAACH,OAAD,EAAUR,OAAV,CAAH,CAAsBY,IAAtB,CAA4BC,MAAD,IAAY;cACtCC,IAAI,GAAI,GAAET,QAAS,KAAIQ,MAAO,EAApC,CAD4C;;;;;;;;;;;;;;;;;;;;;;;;;eA+BrC;UACLC,IADK;UAELC,GAAG,EAAE;YAAEC,QAAQ,EAAE;;SAFnB;OA/BK,CAAP;;;GARJ;;;;;"}